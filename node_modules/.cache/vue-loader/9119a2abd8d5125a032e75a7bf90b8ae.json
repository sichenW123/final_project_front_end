{"remainingRequest":"/Users/sichenwang/Desktop/goal_search/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sichenwang/Desktop/goal_search/src/views/News.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sichenwang/Desktop/goal_search/src/views/News.vue","mtime":1586996696544},{"path":"/Users/sichenwang/Desktop/goal_search/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sichenwang/Desktop/goal_search/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sichenwang/Desktop/goal_search/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sichenwang/Desktop/goal_search/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwoKCgppbXBvcnQgTmV3c0xpc3QgZnJvbSAnLi4vY29tcG9uZW50cy9OZXdzTGlzdCcKaW1wb3J0IE5leHRQYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvTmV4dFBhZ2UnCmltcG9ydCB0ZWFtTGlzdCBmcm9tICcuLi9jb21wb25lbnRzL3RlYW1MaXN0JwppbXBvcnQgUGxheWVyTGlzdCBmcm9tICcuLi9jb21wb25lbnRzL1BsYXllckxpc3QnCmltcG9ydCBBdXRvY29tcGxldGUgZnJvbSAnLi4vY29tcG9uZW50cy9BdXRvY29tcGxldGUnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ25ld3MnLAogIGNvbXBvbmVudHM6IHsKICAgCiAgICBOZXdzTGlzdCwKICAgIE5leHRQYWdlLAogICAgdGVhbUxpc3QsCiAgICBBdXRvY29tcGxldGUsCiAgICBQbGF5ZXJMaXN0CiAgfSwKICBkYXRhKCl7CiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXR1cykKICAgICAgcmV0dXJuewogICAgICAgICAgcXVlcnk6JycsCiAgICAgICAgICBuZXdzZXM6IFtdLAogICAgICAgICAgcGFnZTogMSwKICAgICAgICAgIHN0YXR1czoxLAogICAgICAgICAgdGVhbXM6W10sCiAgICAgICAgICBwbGF5ZXJzOltdCiAgICAgIH0KICB9LAogIHdhdGNoOnsKICAgICckcm91dGUucXVlcnkuc2VhcmNoJzp7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgYXN5bmMgaGFuZGxlcih2YWx1ZSl7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5xdWVyeSkKICAgICAgICBjb25zdCBzdGF0dXM9dGhpcy4kcm91dGUucXVlcnkuc3RhdHVzCiAgICAgICAgCiAgICAgICAgaWYodmFsdWUhPT11bmRlZmluZWQpewogICAgICAgICAgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvc2VhcmNoL3BsYXllcj9xPSR7dmFsdWV9YCkKICAgICAgICAgICAgICAudGhlbihyZXNwb25zZT0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgICAgICAudGhlbihyZXNwb25zZT0+ewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICAgICAgdGhpcy5wbGF5ZXJzPXJlc3BvbnNlfSkKICAgICAgICAgIGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3NlYXJjaC90ZWFtP3E9JHt2YWx1ZX1gKQogICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlPT57CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICAgICAgICB0aGlzLnRlYW1zPXJlc3BvbnNlfSkKICAgICAgICAgIGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3NlYXJjaC8ke3N0YXR1c30/cT0ke3ZhbHVlfSZwPTFgKQogICAgICAgICAgICAudGhlbihyZXNwb25zZT0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSwgdGhpcy5xdWVyeSkKICAgICAgICAgICAgICB0aGlzLm5ld3Nlcz1yZXNwb25zZX0pCiAgICAgICAgfQogICAgICAgIAogICAgICB9CiAgICB9LAogICAgJyRyb3V0ZS5xdWVyeS5zdGF0dXMnOnsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBhc3luYyBoYW5kbGVyKHZhbHVlKXsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnF1ZXJ5KQogICAgICAgIGNvbnN0IHF1ZXJ5PXRoaXMuJHJvdXRlLnF1ZXJ5LnNlYXJjaAogICAgICAgIGlmKHZhbHVlIT09dW5kZWZpbmVkKXsKICAgICAgICAgIGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3NlYXJjaC8ke3ZhbHVlfT9xPSR7cXVlcnl9JnA9MWApCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAudGhlbihyZXNwb25zZT0+ewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLCB0aGlzLnF1ZXJ5KQogICAgICAgICAgICAgIHRoaXMubmV3c2VzPXJlc3BvbnNlfSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAnJHJvdXRlLnF1ZXJ5LnBhZ2UnOnsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBhc3luYyBoYW5kbGVyKHZhbHVlKXsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnF1ZXJ5KQogICAgICAgIGNvbnN0IHF1ZXJ5PXRoaXMuJHJvdXRlLnF1ZXJ5LnNlYXJjaAogICAgICAgIGNvbnN0IHN0YXR1cz10aGlzLiRyb3V0ZS5xdWVyeS5zdGF0dXMKICAgICAgICBpZih2YWx1ZSE9PXVuZGVmaW5lZCl7CiAgICAgICAgICBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9zZWFyY2gvJHtzdGF0dXN9P3E9JHtxdWVyeX0mcD0ke3ZhbHVlfWApCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAudGhlbihyZXNwb25zZT0+ewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLCB0aGlzLnF1ZXJ5KQogICAgICAgICAgICAgIHRoaXMubmV3c2VzPXJlc3BvbnNlfSkKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAoKICBtZXRob2RzOnsKICAgIHNldFN0YXR1cyhzdGF0dXMpewogICAgICBjb25zdCByb3V0ZT17CiAgICAgICAgICAgICAgICBuYW1lOiduZXdzJwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICByb3V0ZS5xdWVyeT17CiAgICAgICAgICAgICAgICBzZWFyY2g6IHRoaXMuJHJvdXRlLnF1ZXJ5LnNlYXJjaCwKICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLAogICAgICAgICAgICAgICAgcGFnZToxCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChyb3V0ZSkKICAgIH0sCiAgICAgIHNldFBhZ2UocCl7CiAgICAgICAgdGhpcy5wYWdlPXAKICAgICAgfSwKICB9LAogIAp9Cg=="},{"version":3,"sources":["News.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"News.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    \n    \n    <div >\n      \n      <Autocomplete class=\"middle\" />\n      <!-- <SearchNews /> -->\n      <br>\n      <br>\n      <br>\n      <br>\n      <br>\n      <br>\n      <teamList v-bind:teams=\"teams\" v-if=\"!this.teams.length==0\" />\n      <br>\n      <br>\n      <br>\n      <PlayerList v-bind:players=\"players\" v-if=\"!this.players.length==0\" />\n      <br>\n      <br>\n      <br>\n     \n      <b-dropdown id=\"dropdown-dropright\" dropright text=\"Search By\" variant=\"light\" class=\"m-2\" v-if=\"!this.newses.length==0\">\n        <b-dropdown-item href=\"#\" v-on:click=\" setStatus('date') \">By Date</b-dropdown-item>\n        <b-dropdown-item href=\"#\" v-on:click=\" setStatus('rel')\" >By Relevence</b-dropdown-item>\n        <b-dropdown-item href=\"#\" v-on:click=\" setStatus('tag')\" >By Tags</b-dropdown-item>\n      </b-dropdown>\n      <NewsList   v-bind:newses=\"newses\"/>\n      <br>\n      <br>\n      <br>\n      <NextPage v-if=\"!this.newses.length==0\" />\n    </div>\n    \n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\n\n\nimport NewsList from '../components/NewsList'\nimport NextPage from '../components/NextPage'\nimport teamList from '../components/teamList'\nimport PlayerList from '../components/PlayerList'\nimport Autocomplete from '../components/Autocomplete'\n\nexport default {\n  name: 'news',\n  components: {\n   \n    NewsList,\n    NextPage,\n    teamList,\n    Autocomplete,\n    PlayerList\n  },\n  data(){\n    console.log(this.status)\n      return{\n          query:'',\n          newses: [],\n          page: 1,\n          status:1,\n          teams:[],\n          players:[]\n      }\n  },\n  watch:{\n    '$route.query.search':{\n      immediate: true,\n      async handler(value){\n        console.log(this.query)\n        const status=this.$route.query.status\n        \n        if(value!==undefined){\n          fetch(`http://localhost:5000/api/search/player?q=${value}`)\n              .then(response=> response.json())\n              .then(response=>{\n            console.log(response)\n            this.players=response})\n          fetch(`http://localhost:5000/api/search/team?q=${value}`)\n              .then(response=> response.json())\n              .then(response=>{\n            console.log(response)\n            this.teams=response})\n          fetch(`http://localhost:5000/api/search/${status}?q=${value}&p=1`)\n            .then(response=> response.json())\n            .then(response=>{\n              console.log(response, this.query)\n              this.newses=response})\n        }\n        \n      }\n    },\n    '$route.query.status':{\n      immediate: true,\n      async handler(value){\n        console.log(this.query)\n        const query=this.$route.query.search\n        if(value!==undefined){\n          fetch(`http://localhost:5000/api/search/${value}?q=${query}&p=1`)\n            .then(response=> response.json())\n            .then(response=>{\n              console.log(response, this.query)\n              this.newses=response})\n        }\n      }\n    },\n    '$route.query.page':{\n      immediate: true,\n      async handler(value){\n        console.log(this.query)\n        const query=this.$route.query.search\n        const status=this.$route.query.status\n        if(value!==undefined){\n          fetch(`http://localhost:5000/api/search/${status}?q=${query}&p=${value}`)\n            .then(response=> response.json())\n            .then(response=>{\n              console.log(response, this.query)\n              this.newses=response})\n        }\n      }\n    }\n  },\n\n  methods:{\n    setStatus(status){\n      const route={\n                name:'news'\n            }\n            \n            route.query={\n                search: this.$route.query.search,\n                status: status,\n                page:1\n                \n            }\n            this.$router.push(route)\n    },\n      setPage(p){\n        this.page=p\n      },\n  },\n  \n}\n</script>\n@import url('https://fonts.googleapis.com/css2?family=Gotu&display=swap');\n<style scoped>\n  .middle{\n  margin: 0px auto;\n  margin-top: 0px;\n  width: 400px;\n}\n  .gutu{\n    font-family: 'Gotu', sans-serif;\n  }\n\n</style>\n\n"]}]}